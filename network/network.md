# NetWork

## Game Server
- 주로 tcp나 udp프로토콜을 이용해 네트워크 라이브러리로 데이터를 주고 받음

## 패킷
- 패킷은 서버와 클라이언트간 약속된 메세지 구성
- [해더 + 패킷타입 + 데이터] 로 구성되 있음
- 헤더:byte 배열의 크기


## RabbitMq
- brew install rabbitmq 
- brew services start rabbitmq
- brew services restart rabbitmq
- brew services stop rabbitmq


## Multicast
## ifconfig

## TTL
- 네트워크에서 패킷의 수명을 제어하는 메커니즘
- 패킷이 네트워크에서 영원히 순환하는 것을 방지하는 카운터
- IP헤더에 포함된 8비트 필드
- 0~255사이의 값을 가질수 있음
```
//작동방식
[출발지] ---(TTL: 64)---> [라우터1] ---(TTL: 63)---> [라우터2] ---(TTL: 62)---> [목적지]
```
- 패킷이 라우터를 통과할떄마다 TTL값이 1씩 감소
- TTL이 0이되면 패킷은 폐기되고 ICMP시간 초과 메세지가 발신자에게 전송
- 기본값은 운영체제마다 다름(Linux 64,Window:128)
  
```rs
socket.set_multicast_ttl_v4(5)?; // 최대 5개의 라우터까지만 전달
```
- 멀티캐스트 범위 제어에 사용
- TTL값에 따른범위
```
0: 같은 호스트 내부
1: 같은 서브넷
32: 같은 사이트
64: 같은 지역
128: 같은 대륙
255: 글로벌
```
- 루프방지:네트워크 루프가 발생해도 패킷이 영원히 순환하지 않음
- 네트워크 범위 제어:의도한 범위 밖으로 패킷이 전파되는것을 방지
- 네트워크 부하 감소:불필요한 패킷 전파를 제한


## Cache
```
[CPU] <-> [L1 캐시] <-> [L2 캐시] <-> [L3 캐시] <-> [메인 메모리(RAM)]

```
- L1: 32KB~64KB (가장 빠름)
- L2: 256KB~512KB
- L3: 수 MB~수십 MB (더 큼, 하지만 더 느림)


